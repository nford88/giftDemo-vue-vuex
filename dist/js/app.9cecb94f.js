(function(t){function e(e){for(var s,i,c=e[0],o=e[1],l=e[2],d=0,f=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);u&&u(e);while(f.length)f.shift()();return n.push.apply(n,l||[]),r()}function r(){for(var t,e=0;e<n.length;e++){for(var r=n[e],s=!0,c=1;c<r.length;c++){var o=r[c];0!==a[o]&&(s=!1)}s&&(n.splice(e--,1),t=i(i.s=r[0]))}return t}var s={},a={app:0},n=[];function i(e){if(s[e])return s[e].exports;var r=s[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=s,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(r,s,function(e){return t[e]}.bind(null,s));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;n.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";r("85ec")},"03aa":function(t,e,r){},"43d2":function(t,e,r){"use strict";r("d828")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var s=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("transition",{attrs:{name:"fade"}},[r("router-view")],1)],1)},n=[],i=r("f3f3"),c=r("2f62");r("ac1f"),r("5319"),r("4d63"),r("25f0");function o(t){var e={USD:"$",EUR:"€",CRC:"₡",GBP:"£",ILS:"₪",INR:"₹",JPY:"¥",KRW:"₩",NGN:"₦",PHP:"₱",PLN:"zł",PYG:"₲",THB:"฿",UAH:"₴",VND:"₫"};if(void 0!==e[t])return e[t]}var l=function(t){var e={"-":"_",a:"á|à|ã|â|ä|À|Á|Ã|Â|Ä",e:"é|è|ê|ë|É|È|Ê|Ë",i:"í|ì|î|ï|Í|Ì|Î|Ï",o:"ó|ò|ô|õ|ö|Ó|Ò|Ô|Õ|Ö",u:"ú|ù|û|ü|Ú|Ù|Û|Ü",c:"ç|Ç",n:"ñ|Ñ"};for(var r in e)t=t.replace(new RegExp(e[r],"g"),r);return t},u={name:"App",components:{},mounted:function(){this.fetchOffers()},data:function(){return{currencyConverter:o}},methods:Object(i["a"])({},Object(c["b"])({fetchOffers:"FETCH_OFFERS"}))},d=u,f=(r("034f"),r("2877")),p=Object(f["a"])(d,a,n,!1,null,null,null),v=p.exports,m=r("8c4f"),h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"list"},[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-3"},[r("h1",{staticClass:"my-4"},[t._v("Smartbox")]),r("div",{staticClass:"list-group"},[r("div",{staticClass:"list-group-item"},[r("h5",[t._v("Search")]),r("div",{staticClass:"form-check"},[r("div",{staticClass:"input-group mb-3"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.filteredText,expression:"filteredText"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search offers...","aria-label":"search","aria-describedby":"basic-addon2"},domProps:{value:t.filteredText},on:{input:function(e){e.target.composing||(t.filteredText=e.target.value)}}}),r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button",id:"button-addon2"},on:{click:function(){return t.filteredText=""}}},[t._v("X")])])])]),r("div",{staticClass:"list-group-item filter-checkbox-container"},[r("h5",[t._v("Filter")]),r("div",{staticClass:"form-check"},[r("input",{staticClass:"form-check-input",attrs:{type:"checkbox",id:"priceSort"},domProps:{checked:"price"==t.sortMethod.type},on:{click:function(e){t.sortMethod.type="price"}}}),r("label",{staticClass:"form-check-label",attrs:{for:"priceSort"}},[t._v(" Price ")])]),r("div",{staticClass:"form-check"},[r("input",{staticClass:"form-check-input",attrs:{type:"checkbox",id:"reviewSort"},domProps:{checked:"reviews"==t.sortMethod.type},on:{click:function(e){t.sortMethod.type="reviews"}}}),r("label",{staticClass:"form-check-label",attrs:{for:"reviewSort"}},[t._v(" Reviews ")])])]),r("div",{staticClass:"list-group-item"},[r("h5",[t._v("Sort")]),r("button",{staticClass:"sort-button",on:{click:function(e){t.sortMethod.asc=!t.sortMethod.asc}}},[t.sortMethod.asc?r("span",[r("i",{staticClass:"bi bi-arrow-up"}),t._v("Low to High")]):r("span",[r("i",{staticClass:"bi bi-arrow-down"}),t._v("High to Low")])])])])]),r("div",{staticClass:"col-lg-9"},[r("div",{staticClass:"spinner-container"},[t.loading?r("spinner"):t._e()],1),!t.loading&&t.sortAndFilteredItems.length>0?r("div",{staticClass:"row"},t._l(t.sortAndFilteredItems,(function(t){return r("div",{key:t.id,staticClass:"col-lg-4 col-md-6 mb-4"},[r("offer-cards",{attrs:{offer:t}})],1)})),0):t._e(),t.loading||0!=t.sortAndFilteredItems.length?t._e():r("div",{staticClass:"filter-error__container"},[r("h4",{staticClass:"filter-error__text"},[t._v(" Sorry, there are no items matching that filter. Please "),r("a",{attrs:{href:"#"},on:{click:function(){return t.filteredText=""}}},[t._v("click here")]),t._v(" to clear and try again.")])])])])])])},b=[],_=r("d0ff"),C=(r("4de4"),r("b0c0"),r("466d"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"loader"},[t._v("Loading...")])}),g=[],y=(r("d4ca"),{}),w=Object(f["a"])(y,C,g,!1,null,"08f89f17",null),x=w.exports,O=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card h-100 offer-card",attrs:{"test-id":"offer-card-"+t.offer.id},on:{click:function(){return t.viewDetail()}}},[r("img",{staticClass:"card-img-top",attrs:{src:t.offer.gallery.listing,alt:""}}),r("div",{staticClass:"card-body"},[r("h4",{staticClass:"card-title"},[t._v(" "+t._s(t.offer.name)+" ")]),r("p",{staticClass:"card-text"},[t._v(t._s(t.offer.universe.name))]),r("p",{staticClass:"card-text card-desc"},[t._v(t._s(t.offer.shortDescription))]),r("div",{staticClass:"card-price"},[r("h5",[t._v(t._s(t.currencyConverter(t.offer.currency))+" "+t._s(t.offer.price))])])]),r("div",{staticClass:"card-footer"},[t.offer.showRating?r("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.offer.reviewsCount)+" reviews ")]):r("small",{staticClass:"text-muted"},[t._v(" Rating unavailable")])])])},j=[],k={name:"OfferCards",props:{offer:{}},data:function(){return{currencyConverter:o}},methods:{viewDetail:function(){return this.$router.push({name:"Detail",params:{id:"1180"}})}}},S=k,I=(r("43d2"),Object(f["a"])(S,O,j,!1,null,"5bb9cf73",null)),P=I.exports,T={name:"List",components:{Spinner:x,OfferCards:P},mounted:function(){},data:function(){return{sortMethod:{type:"reviews",asc:!1},filteredText:""}},computed:Object(i["a"])(Object(i["a"])({},Object(c["c"])({items:"items",loading:"loading"})),{},{sortAndFilteredItems:function(){var t=this.sortMethod,e=t.type,r=t.asc,s=this.filteredText.toLowerCase(),a=this.items,n=Object(_["a"])(a);return"price"==e&&(n=n.sort((function(t,e){var s=t.price,a=e.price;return r?s-a:a-s}))),"reviews"==e&&(n=n.sort((function(t,e){var s=t.reviewsCount,a=e.reviewsCount;return r?s-a:a-s}))),n.filter((function(t){var e=l(t.name.toLowerCase()),r=e.match(s),a=t.name.toLowerCase().match(s);return a||r}))}})},R=T,E=(r("9578"),Object(f["a"])(R,h,b,!1,null,"3d6563f6",null)),F=E.exports,M=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"detail"},[r("div",{staticClass:"back-to-list"},[r("router-link",{attrs:{to:"/"}},[t._v("Back to list")])],1),r("div",{staticClass:"container"},[0==Object.entries(t.selectedItem).length?r("div",{staticClass:"detail-error"},[r("h4",[t._v("Sorry there seems to be an error, click back and try again")])]):r("div",{staticClass:"detail-body"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-5 order-md-2"},[r("h2",{staticClass:"featurette-heading"},[t._v(t._s(t.selectedItem.name))]),r("p",{staticClass:"lead"},[t._v(t._s(t.selectedItem.shortDescription))]),r("p",{staticClass:"lead"},[t._v(t._s(t.selectedItem.subtitle))]),r("h5",[t._v(t._s(t.currencyConverter(t.selectedItem.currency))+" "+t._s(t.selectedItem.price))]),r("li",{staticClass:"detail-body__universe"},[t._v(t._s(t.selectedItem.universe.name)+" ")])]),r("div",{staticClass:"col-md-7 order-md-1"},[r("transition",{attrs:{name:"fade"}},[r("img",{staticClass:"featurette-image img-fluid mx-auto",staticStyle:{width:"500px",height:"500px"},attrs:{alt:t.selectedItem.name,src:t.selectedItem.gallery.items[0]}})])],1)]),r("div",{staticClass:"row"},[r("div",{staticClass:"detail-body__lower"},[r("p",[t._v(t._s(t.selectedItem.description)+" ")]),r("div")])])])])])},L=[],D=(r("99af"),{name:"Detail",data:function(){return{currencyConverter:o}},computed:Object(i["a"])(Object(i["a"])({},Object(c["c"])({items:"items"})),{},{selectedItem:function(){var t=this;return Object.assign.apply(Object,[{}].concat(Object(_["a"])(this.items.filter((function(e){return t.$route.params.id==e.id})))))}})}),$=D,A=(r("581a"),Object(f["a"])($,M,L,!1,null,"ba982724",null)),H=A.exports;s["a"].use(m["a"]);var N,G=[{path:"/",name:"List",component:F},{path:"/:id",name:"Detail",props:!0,component:H}],B=new m["a"]({mode:"history",base:"/",routes:G}),J=B,U=r("fc11"),Y=r("c964"),z=(r("96cf"),"FETCH_OFFERS"),K="SET_LOADING",V="SET_OFFERS",W=(r("d3b7"),function(){var t=Object(Y["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://smartboxtest.getsandbox.com/products.json");case 3:return e=t.sent,t.next=6,e.json();case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t["catch"](0),console.log(t.t0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}()),X=Object(U["a"])({},z,(function(t){return Object(Y["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,r(V,[]),e.prev=2,r(K,!0),e.t0=r,e.t1=V,e.next=8,W();case 8:e.t2=e.sent,(0,e.t0)(e.t1,e.t2),e.next=14;break;case 12:e.prev=12,e.t3=e["catch"](2);case 14:return e.prev=14,r(K,!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,12,14,17]])})))()})),q=(N={},Object(U["a"])(N,K,(function(t,e){t.loading=e})),Object(U["a"])(N,V,(function(t,e){t.items=e})),N),Q={loading:!1,items:[]};s["a"].use(c["a"]);var Z=function(){return{state:Q,actions:X,mutations:q}},tt=function(){return new c["a"].Store(Z())},et=tt;s["a"].config.productionTip=!1,new s["a"]({router:J,store:et(),render:function(t){return t(v)}}).$mount("#app")},"581a":function(t,e,r){"use strict";r("b807")},"85ec":function(t,e,r){},9578:function(t,e,r){"use strict";r("03aa")},b807:function(t,e,r){},d4ca:function(t,e,r){"use strict";r("e914")},d828:function(t,e,r){},e914:function(t,e,r){}});
//# sourceMappingURL=app.9cecb94f.js.map